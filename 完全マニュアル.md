# 🎵 歌詞オーバーレイ動画 完全マニュアル

## 📖 目次
1. [初回セットアップ](#初回セットアップ)
2. [毎回の作業手順](#毎回の作業手順)
3. [カスタマイズ方法](#カスタマイズ方法)
4. [トラブルシューティング](#トラブルシューティング)

---

## 初回セットアップ

### 必要なもの
- パソコン（Mac または Windows）
- Node.js（インストール済みでない場合は https://nodejs.org からダウンロード）
- Final Cut Pro（または他の動画編集ソフト）

### セットアップ手順
1. **プロジェクトフォルダを開く**
   ```bash
   cd lyrics-overlay
   ```

2. **依存パッケージをインストール**（初回のみ）
   ```bash
   npm install
   ```

---

## 毎回の作業手順

### 📝 方法1: 簡単HTMLツールを使う（推奨）

1. **HTMLツールを開く**
   - `src/simple-generator.html` をダブルクリックしてブラウザで開く

2. **MP3ファイルをアップロード**
   - 「音楽ファイルをアップロード」エリアにMP3をドラッグ＆ドロップ

3. **歌詞を入力**
   - テキストエリアに歌詞を1行ずつ入力
   ```
   君に会えたその日から
   世界が輝いて見えた
   毎日が特別になった
   ```

4. **「動画を生成する」ボタンをクリック**
   - `lyrics-data.json` が自動でダウンロードされる

5. **ファイルを配置**
   - ダウンロードした `lyrics-data.json` を `src/lyrics-data.json` に上書き
   - MP3ファイルを `public/audio.mp3` として保存

6. **プレビュー確認**
   ```bash
   npm start
   ```
   ブラウザで http://localhost:3000 を開く

7. **動画を出力**
   ```bash
   npm run build:transparent
   ```

---

### 🎯 方法2: コマンドラインツールを使う（高速）

1. **歌詞テキストファイルを準備**
   `lyrics.txt` という名前でファイルを作成：
   ```
   君に会えたその日から
   世界が輝いて見えた
   毎日が特別になった
   ```

2. **MP3の長さを確認**
   - MP3ファイルを右クリック → 情報を見る
   - 長さをメモ（例：180秒）

3. **歌詞データを自動生成**
   ```bash
   node scripts/generate-lyrics.js lyrics.txt 180
   ```

4. **MP3を配置**
   ```bash
   cp あなたの音楽.mp3 public/audio.mp3
   ```

5. **動画を生成**
   ```bash
   npm run build:transparent
   ```

---

### 🎬 方法3: 手動で細かく調整する

1. **`src/lyrics-data.json` を直接編集**
   ```json
   [
     {
       "startTime": 0,
       "endTime": 4.5,
       "text": "君に会えたその日から"
     },
     {
       "startTime": 4.5,
       "endTime": 9,
       "text": "世界が輝いて見えた"
     },
     {
       "startTime": 9,
       "endTime": 13.5,
       "text": "毎日が特別になった"
     }
   ]
   ```

2. **タイミングの調整方法**
   - `startTime`: 歌詞が表示され始める時間（秒）
   - `endTime`: 歌詞が消える時間（秒）
   - 小数点も使える（例：4.5秒）

3. **プレビューで確認しながら調整**
   ```bash
   npm start
   ```

---

## カスタマイズ方法

### 🎨 文字のスタイルを変更

**ファイル:** `src/compositions/LyricsOverlay.tsx`

```javascript
// 文字サイズ
fontSize: '60px'  → '80px' に変更で大きく

// 文字色
color: 'white' → 'yellow' に変更で黄色に

// 位置
bottom: '150px' → '300px' で上に移動

// 背景の透明度
backgroundColor: 'rgba(0, 0, 0, 0.7)' 
→ 'rgba(0, 0, 0, 0.3)' でより透明に
```

### 🎭 アニメーション効果を変更

```javascript
// フェードインの速さ
config: {
  damping: 30,      // 小さくすると速く
  stiffness: 150,   // 大きくすると速く
  mass: 1,
}

// スライドインの距離
translateY: interpolate(animationProgress, [0, 1], [50, 0])
→ [100, 0] に変更で下から大きく移動
```

### 📐 動画のサイズを変更

**ファイル:** `src/Root.tsx`

```javascript
width={1920}   // 横幅
height={1080}  // 縦幅

// Instagram用なら
width={1080}
height={1920}
```

---

## Final Cut Proでの使い方

### 基本の使い方

1. **動画をインポート**
   - ファイル → インポート → メディア
   - `out/lyrics-transparent.mov` を選択

2. **タイムラインに配置**
   - メイン動画の**上のトラック**に配置
   - 位置を調整

3. **完成！**
   - 透過背景なので自動的に重なる

### 高度な編集

- **位置調整**: インスペクタの「変形」で調整
- **エフェクト追加**: ブラーやグローを追加可能
- **色補正**: カラーボードで色調整

---

## トラブルシューティング

### ❌ エラー: "Cannot find module"
```bash
npm install
```

### ❌ 歌詞が表示されない
- `src/lyrics-data.json` が正しく保存されているか確認
- ブラウザをリロード（Cmd+R / Ctrl+R）

### ❌ 音が出ない
- `public/audio.mp3` が存在するか確認
- ファイル名が正確に `audio.mp3` か確認

### ❌ 動画が出力されない
```bash
# キャッシュをクリア
rm -rf .remotion

# 再度実行
npm run build:transparent
```

### ❌ タイミングがずれる
- 手動で `src/lyrics-data.json` の時間を微調整
- 0.1秒単位で調整可能

---

## 💡 便利なヒント

### 複数プロジェクトの管理

異なる曲用に複数のプロジェクトを作る場合：

```bash
# プロジェクトをコピー
cp -r lyrics-overlay lyrics-overlay-song2

# 新しいプロジェクトに移動
cd lyrics-overlay-song2

# 依存パッケージを再インストール
npm install
```

### バックアップの作成

作業前にバックアップ：
```bash
cp src/lyrics-data.json src/lyrics-data.backup.json
```

### 一括処理スクリプト

複数の曲を処理する場合のスクリプト例：

```bash
#!/bin/bash
# process-all.sh

for song in song1 song2 song3; do
  echo "Processing $song..."
  cp $song/lyrics.txt lyrics.txt
  cp $song/audio.mp3 public/audio.mp3
  node scripts/generate-lyrics.js lyrics.txt 180
  npm run build:transparent
  mv out/lyrics-transparent.mov out/$song-lyrics.mov
done
```

---

## 📞 サポート

問題が解決しない場合は、以下の情報を準備してください：

1. エラーメッセージの全文
2. 使用しているOS（Mac/Windows）
3. Node.jsのバージョン（`node -v`で確認）
4. 実行したコマンド

---

## 🎉 完成例

正しく設定できていれば：
- 歌詞が音楽に合わせて表示される
- 背景が透過されている
- Final Cut Proで他の動画と合成できる

楽しい動画制作を！