<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® Ê≠åË©û„Ç™„Éº„Éê„Éº„É¨„Ç§ „Éì„Ç∏„É•„Ç¢„É´„Ç®„Éá„Ç£„Çø„Éº</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
        }
        
        /* „Çµ„Ç§„Éâ„Éê„Éº */
        .sidebar {
            width: 450px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            padding: 20px;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        h2 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 16px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 3px;
        }
        
        /* „Ç≥„É≥„Éà„É≠„Éº„É´„Ç∞„É´„Éº„Éó */
        .control-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-size: 14px;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="number"],
        input[type="color"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            border-color: #667eea;
            outline: none;
        }
        
        input[type="range"] {
            width: 100%;
            margin-top: 5px;
        }
        
        .range-value {
            text-align: right;
            color: #667eea;
            font-weight: bold;
            margin-top: 5px;
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
            font-family: monospace;
        }
        
        /* „Éú„Çø„É≥ */
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 12px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        
        .secondary-button {
            background: #6c757d;
        }
        
        /* „Éó„É¨„Éì„É•„Éº„Ç®„É™„Ç¢ */
        .preview-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            min-height: 100vh;
        }
        
        .preview-controls {
            background: rgba(255, 255, 255, 0.95);
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            gap: 8px;
            align-items: center;
            font-size: 14px;
        }
        
        .preview-controls button {
            padding: 8px 12px;
            font-size: 12px;
        }
        
        .preview-area {
            background: #000;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            height: 400px;
            width: 100%;
            max-width: 720px;
            margin: 0 auto;
            aspect-ratio: 16/9;
        }
        
        /* „Éó„É¨„Éì„É•„ÉºÊ≠åË©û */
        .preview-lyrics {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
            transition: all 0.3s;
        }
        
        .preview-lyrics-background {
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 30px;
            border-radius: 12px;
            display: inline-block;
            backdrop-filter: blur(10px);
        }
        
        .preview-lyrics-text {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif;
            font-size: 36px;
            color: black;
            text-shadow: 0 0 20px rgba(255,255,255,0.9), 0 0 10px rgba(255,255,255,0.8);
            margin: 0;
            font-weight: bold;
        }
        
        /* „Éó„É™„Çª„ÉÉ„Éà */
        .preset-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .preset-button {
            padding: 10px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
        }
        
        .preset-button:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        /* „Çø„Éñ */
        .tabs {
            display: flex;
            gap: 3px;
            margin-bottom: 20px;
            background: #e9ecef;
            border-radius: 10px;
            padding: 4px;
        }
        
        .tab {
            flex: 1;
            padding: 12px 16px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: #6c757d;
            font-weight: 500;
            font-size: 14px;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
            transform: translateY(-1px);
        }
        
        .tab:hover:not(.active) {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* „Ç´„É©„Éº„Éî„ÉÉ„Ç´„Éº„Ç∞„É´„Éº„Éó */
        .color-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .color-input-group input[type="color"] {
            width: 50px;
            height: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .color-input-group input[type="text"] {
            flex: 1;
        }
        
        /* „Éï„Ç°„Ç§„É´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ */
        .file-upload {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px dashed rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }
        
        .file-upload::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
            opacity: 0;
        }
        
        .file-upload:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
            border-color: rgba(255, 255, 255, 1);
        }
        
        .file-upload:hover::before {
            opacity: 1;
            animation: shine 0.5s ease-in-out;
        }
        
        .file-upload.dragover {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-color: rgba(255, 255, 255, 1);
            transform: scale(1.02);
        }
        
        .file-upload p:first-child {
            font-size: 18px;
            margin-bottom: 8px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        .file-upload p:last-child {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 8px;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 280px;
            max-width: 90vw;
            background-color: rgba(0, 0, 0, 0.95);
            color: #fff;
            text-align: left;
            border-radius: 10px;
            padding: 12px 15px;
            position: fixed;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
            line-height: 1.5;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* „Éó„É≠„Ç∞„É¨„Çπ„Çπ„Éî„Éä„Éº */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- „Çµ„Ç§„Éâ„Éê„Éº -->
    <div class="sidebar">
        <h1>
            üé® „Éì„Ç∏„É•„Ç¢„É´„Ç®„Éá„Ç£„Çø„Éº
        </h1>
        
        <!-- „Çø„Éñ -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('style')">„Çπ„Çø„Ç§„É´</button>
            <button class="tab" onclick="switchTab('animation')">„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</button>
            <button class="tab" onclick="switchTab('lyrics')">Ê≠åË©û</button>
        </div>
        
        <!-- „Çπ„Çø„Ç§„É´„Çø„Éñ -->
        <div class="tab-content active" id="style-tab">
            <h2>üìù „ÉÜ„Ç≠„Çπ„ÉàË®≠ÂÆö</h2>
            
            <div class="control-group">
                <label>„Éï„Ç©„É≥„Éà</label>
                <div class="tooltip">
                    <select id="font-family" onchange="updatePreview()">
                        <option value='"Hiragino Mincho ProN", "Yu Mincho", serif'>ÊòéÊúù‰ΩìÔºà„Ç®„É¨„Ç¨„É≥„ÉàÔºâ</option>
                        <option value='"Hiragino Sans", "Yu Gothic", sans-serif'>„Ç¥„Ç∑„ÉÉ„ÇØ‰ΩìÔºà„É¢„ÉÄ„É≥Ôºâ</option>
                        <option value='"M PLUS Rounded 1c", sans-serif'>‰∏∏„Ç¥„Ç∑„ÉÉ„ÇØÔºà„Åã„Çè„ÅÑ„ÅÑÔºâ</option>
                        <option value='Georgia, "Times New Roman", serif'>Ëã±Ë™û„Çª„É™„Éï</option>
                        <option value='"Helvetica Neue", Arial, sans-serif'>Ëã±Ë™û„Çµ„É≥„Çª„É™„Éï</option>
                    </select>
                    <span class="tooltiptext">üìù <strong>„Éï„Ç©„É≥„Éà</strong> = ÊñáÂ≠ó„ÅÆË¶ã„ÅüÁõÆ<br><br>„Éª<strong>ÊòéÊúù‰Ωì</strong>Ôºö‰∏äÂìÅ„ÅßË™≠„Åø„ÇÑ„Åô„ÅÑÊó•Êú¨Ë™û„ÅÆÊñáÂ≠ó<br>„Éª<strong>„Ç¥„Ç∑„ÉÉ„ÇØ‰Ωì</strong>ÔºöÂ§™„Åè„Å¶„ÅØ„Å£„Åç„Çä„Åó„ÅüÊñáÂ≠ó<br>„Éª<strong>‰∏∏„Ç¥„Ç∑„ÉÉ„ÇØ</strong>ÔºöËßí„Åå‰∏∏„Åè„Å¶„Åã„Çè„ÅÑ„ÅÑÊñáÂ≠ó</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>ÊñáÂ≠ó„Çµ„Ç§„Ç∫: <span class="range-value" id="font-size-value">52px</span></label>
                <div class="tooltip">
                    <input type="range" id="font-size" min="20" max="120" value="52" onchange="updatePreview()">
                    <span class="tooltiptext">üìè <strong>ÊñáÂ≠ó„Çµ„Ç§„Ç∫</strong><br><br>„Éª<strong>20px</strong>Ôºö„Å®„Å¶„ÇÇÂ∞è„Åï„ÅÑÊñáÂ≠ó<br>„Éª<strong>50px</strong>ÔºöÊôÆÈÄö„ÅÆÂ§ß„Åç„Åï<br>„Éª<strong>120px</strong>Ôºö„Å®„Å¶„ÇÇÂ§ß„Åç„ÅÑÊñáÂ≠ó<br><br>ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Å´Âêà„Çè„Åõ„Å¶Ë™øÊï¥„Åó„Å¶„Å≠ÔºÅ</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>ÊñáÂ≠ó„ÅÆÂ§™„Åï</label>
                <div class="tooltip">
                    <select id="font-weight" onchange="updatePreview()">
                        <option value="normal">ÈÄöÂ∏∏</option>
                        <option value="bold" selected>Â§™Â≠ó</option>
                        <option value="900">Ê•µÂ§™</option>
                    </select>
                    <span class="tooltiptext">üí™ <strong>ÊñáÂ≠ó„ÅÆÂ§™„Åï</strong><br><br>„Éª<strong>ÈÄöÂ∏∏</strong>ÔºöÊôÆÈÄö„ÅÆÁ¥∞„Åï„ÅÆÊñáÂ≠ó<br>„Éª<strong>Â§™Â≠ó</strong>ÔºöÂ∞ë„ÅóÂ§™„ÅÑÊñáÂ≠óÔºà„Åä„Åô„Åô„ÇÅÔºâ<br>„Éª<strong>Ê•µÂ§™</strong>Ôºö„Å®„Å¶„ÇÇÂ§™„ÅÑÊñáÂ≠ó<br><br>Â§™„ÅÑÊñáÂ≠ó„ÅÆÊñπ„ÅåÂãïÁîª„ÅßË¶ã„ÇÑ„Åô„ÅÑ„ÇàÔºÅ</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>ÊñáÂ≠óËâ≤</label>
                <div class="color-input-group tooltip">
                    <input type="color" id="text-color" value="#000000" onchange="updatePreview()">
                    <input type="text" id="text-color-hex" value="#000000" onchange="updateColorFromHex('text')">
                    <span class="tooltiptext">üé® <strong>ÊñáÂ≠ó„ÅÆËâ≤„ÇíÈÅ∏„Å∂</strong><br><br>„ÉªÂ∑¶„ÅÆÂõõËßí„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Ëâ≤„ÇíÈÅ∏Êäû<br>„ÉªÂè≥„ÅÆÊ¨Ñ„Å´„Äå#FF0000„Äç„ÅÆ„Çà„ÅÜ„Å™Ëâ≤„Ç≥„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„ÇÇOK<br><br>ËÉåÊôØ„ÅÆËâ≤„Å®Èáç„Å™„Çâ„Å™„ÅÑËâ≤„ÇíÈÅ∏„Çì„Åß„Å≠ÔºÅ</span>
                </div>
            </div>
            
            <h2>‚ú® „Ç®„Éï„Çß„ÇØ„Éà</h2>
            
            <div class="control-group">
                <label>„Ç∞„É≠„ÉºÂäπÊûú„ÅÆÂº∑„Åï: <span class="range-value" id="glow-strength-value">‰∏≠</span></label>
                <div class="tooltip">
                    <input type="range" id="glow-strength" min="0" max="100" value="50" onchange="updatePreview()">
                    <span class="tooltiptext">‚ú® <strong>„Ç∞„É≠„ÉºÂäπÊûú</strong> = ÊñáÂ≠ó„ÅÆÂë®„Çä„ÅÆÂÖâ<br><br>„Éª<strong>0</strong>ÔºöÂÖâ„Çâ„Å™„ÅÑÔºàÊôÆÈÄö„ÅÆÊñáÂ≠óÔºâ<br>„Éª<strong>50</strong>Ôºö„Åª„Çì„ÅÆ„ÇäÂÖâ„Çã<br>„Éª<strong>100</strong>Ôºö„Åô„Åî„ÅèÂÖâ„ÇãÔºÅ<br><br>Êöó„ÅÑÂ†¥Èù¢„Åß„ÇÇÊñáÂ≠ó„Åå„ÅØ„Å£„Åç„ÇäË¶ã„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çã„Çà</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>„Ç∞„É≠„ÉºËâ≤</label>
                <div class="color-input-group tooltip">
                    <input type="color" id="glow-color" value="#FFFFFF" onchange="updatePreview()">
                    <input type="text" id="glow-color-hex" value="#FFFFFF" onchange="updateColorFromHex('glow')">
                    <span class="tooltiptext">üåü <strong>ÂÖâ„ÇãËâ≤„ÇíÈÅ∏„Å∂</strong><br><br>„ÉªÊñáÂ≠ó„ÅÆÂë®„Çä„Å´ÂÖâ„ÇãËâ≤<br>„ÉªÁôΩ„Å†„Å®Ëá™ÁÑ∂„Å™ÂÖâ„ÇäÊñπ<br>„ÉªÈªÑËâ≤„Å†„Å®Êöñ„Åã„ÅÑÊÑü„Åò<br>„ÉªÈùí„Å†„Å®ÂÜ∑„Åü„ÅÑÊÑü„Åò</span>
                </div>
            </div>
            
            <div class="control-group">
                <div class="tooltip">
                    <label>
                        <input type="checkbox" id="use-background" checked onchange="updatePreview()">
                        ËÉåÊôØ„Çí‰ΩøÁî®ÔºàÂçäÈÄèÊòé„ÅÆÈªíÔºâ
                    </label>
                    <span class="tooltiptext">üñºÔ∏è <strong>ÊñáÂ≠ó„ÅÆÂæå„Çç„Å´ËÉåÊôØ„Çí„Å§„Åë„Çã</strong><br><br>„Éª„ÉÅ„Çß„ÉÉ„ÇØONÔºöÊñáÂ≠ó„ÅÆÂæå„Çç„Å´ËñÑ„ÅÑÈªí„ÅÑÂõõËßí<br>„Éª„ÉÅ„Çß„ÉÉ„ÇØOFFÔºöËÉåÊôØ„Å™„ÅóÔºàÈÄèÊòéÔºâ<br><br>ËÉåÊôØ„Åå„ÅÇ„Çã„Å®ÊñáÂ≠ó„ÅåË™≠„Åø„ÇÑ„Åô„Åè„Å™„Çã„Çà</span>
                </div>
            </div>
            
            <div class="control-group" id="background-opacity-group">
                <label>ËÉåÊôØ„ÅÆÈÄèÊòéÂ∫¶: <span class="range-value" id="bg-opacity-value">70%</span></label>
                <div class="tooltip">
                    <input type="range" id="bg-opacity" min="0" max="100" value="70" onchange="updatePreview()">
                    <span class="tooltiptext">üëª <strong>ËÉåÊôØ„ÅÆÊøÉ„Åï</strong><br><br>„Éª<strong>0%</strong>ÔºöÂÆåÂÖ®„Å´ÈÄèÊòéÔºàË¶ã„Åà„Å™„ÅÑÔºâ<br>„Éª<strong>50%</strong>ÔºöÂçäÈÄèÊòé<br>„Éª<strong>100%</strong>ÔºöÂÆåÂÖ®„Å´Èªí<br><br>70%„Åè„Çâ„ÅÑ„Åå„Å°„Çá„ÅÜ„Å©„ÅÑ„ÅÑÊÑü„ÅòÔºÅ</span>
                </div>
            </div>
            
            <h2>üìç ‰ΩçÁΩÆ</h2>
            
            <div class="control-group">
                <label>‰∏ã„Åã„Çâ„ÅÆË∑ùÈõ¢: <span class="range-value" id="position-value">26px</span></label>
                <div class="tooltip">
                    <input type="range" id="position-bottom" min="0" max="200" value="26" onchange="updatePreview()">
                    <span class="tooltiptext">üìê <strong>ÊñáÂ≠ó„ÅÆ‰ΩçÁΩÆ</strong><br><br>„ÉªÁîªÈù¢„ÅÆ‰∏ÄÁï™‰∏ã„Åã„Çâ„Å©„Çå„Åè„Çâ„ÅÑÈõ¢„Åô„Åã<br>„Éª<strong>0px</strong>ÔºöÁîªÈù¢„ÅÆ‰∏ÄÁï™‰∏ã<br>„Éª<strong>100px</strong>ÔºöÁîªÈù¢‰∏ã„Åã„ÇâÂ∞ë„Åó‰∏ä<br><br>26px„Åè„Çâ„ÅÑ„Å†„Å®Ë¶ã„ÇÑ„Åô„ÅÑ„ÇàÔºÅ</span>
                </div>
            </div>
            
            <h2>üéØ „Éó„É™„Çª„ÉÉ„Éà</h2>
            <div class="preset-grid tooltip">
                <button class="preset-button" onclick="applyPreset('elegant')">„Ç®„É¨„Ç¨„É≥„Éà</button>
                <button class="preset-button" onclick="applyPreset('pop')">„Éù„ÉÉ„Éó</button>
                <button class="preset-button" onclick="applyPreset('minimal')">„Éü„Éã„Éû„É´</button>
                <button class="preset-button" onclick="applyPreset('karaoke')">„Ç´„É©„Ç™„Ç±</button>
                <button class="preset-button" onclick="applyPreset('youtube')">YouTubeÂ≠óÂπï</button>
                <button class="preset-button" onclick="applyPreset('movie')">Êò†ÁîªÂ≠óÂπï</button>
                <span class="tooltiptext">üé® <strong>„Åã„Çì„Åü„ÇìË®≠ÂÆö</strong><br><br>„Éª<strong>„Ç®„É¨„Ç¨„É≥„Éà</strong>Ôºö‰∏äÂìÅ„ÅßÁæé„Åó„ÅÑ<br>„Éª<strong>„Éù„ÉÉ„Éó</strong>Ôºö„Ç´„É©„Éï„É´„ÅßÂÖÉÊ∞ó<br>„Éª<strong>„Éü„Éã„Éû„É´</strong>Ôºö„Ç∑„É≥„Éó„É´„ÅßÊ¥óÁ∑¥<br>„Éª<strong>„Ç´„É©„Ç™„Ç±</strong>ÔºöÈªÑËâ≤„ÅÑÊñáÂ≠ó„ÅßÊ•Ω„Åó„ÅÑ<br>„Éª<strong>YouTubeÂ≠óÂπï</strong>ÔºöË¶ãÊÖ£„Çå„ÅüÊÑü„Åò<br>„Éª<strong>Êò†ÁîªÂ≠óÂπï</strong>ÔºöÊò†ÁîªÈ§®„Åø„Åü„ÅÑ</span>
            </div>
        </div>
        
        <!-- „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Çø„Éñ -->
        <div class="tab-content" id="animation-tab">
            <h2>üé¨ „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</h2>
            
            <div class="control-group">
                <label>ÁôªÂ†¥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</label>
                <div class="tooltip">
                    <select id="animation-in" onchange="updatePreview()">
                        <option value="fade" selected>„Éï„Çß„Éº„Éâ„Ç§„É≥</option>
                        <option value="slide-up">‰∏ã„Åã„Çâ„Çπ„É©„Ç§„Éâ</option>
                        <option value="scale">Êã°Â§ß</option>
                        <option value="bounce">„Éê„Ç¶„É≥„Çπ</option>
                        <option value="none">„Å™„Åó</option>
                    </select>
                    <span class="tooltiptext">üé¨ <strong>Ê≠åË©û„ÅåÂá∫„Å¶„Åè„ÇãÊôÇ„ÅÆÂãï„Åç</strong><br><br>„Éª<strong>„Éï„Çß„Éº„Éâ„Ç§„É≥</strong>Ôºö„Åµ„Çè„Å£„Å®Áèæ„Çå„Çã<br>„Éª<strong>‰∏ã„Åã„Çâ„Çπ„É©„Ç§„Éâ</strong>Ôºö‰∏ã„Åã„Çâ„Å´„ÇÖ„Çã„Å£„Å®<br>„Éª<strong>Êã°Â§ß</strong>ÔºöÂ∞è„Åï„ÅÑ‚ÜíÂ§ß„Åç„Åè<br>„Éª<strong>„Éê„Ç¶„É≥„Çπ</strong>Ôºö„Å¥„Çá„Çì„Å¥„Çá„ÇìË∑≥„Å≠„Çã<br>„Éª<strong>„Å™„Åó</strong>Ôºö„ÅÑ„Åç„Å™„ÇäÁèæ„Çå„Çã</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>ÈÄÄÂ†¥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</label>
                <div class="tooltip">
                    <select id="animation-out" onchange="updatePreview()">
                        <option value="fade" selected>„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà</option>
                        <option value="slide-down">‰∏ã„Å∏„Çπ„É©„Ç§„Éâ</option>
                        <option value="scale">Á∏ÆÂ∞è</option>
                        <option value="none">„Å™„Åó</option>
                    </select>
                    <span class="tooltiptext">üëã <strong>Ê≠åË©û„ÅåÊ∂à„Åà„ÇãÊôÇ„ÅÆÂãï„Åç</strong><br><br>„Éª<strong>„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà</strong>Ôºö„Å†„Çì„Å†„ÇìËñÑ„Åè„Å™„Å£„Å¶Ê∂à„Åà„Çã<br>„Éª<strong>‰∏ã„Å∏„Çπ„É©„Ç§„Éâ</strong>Ôºö‰∏ã„Å´„Åö„Çä„Åö„ÇäËêΩ„Å°„Çã<br>„Éª<strong>Á∏ÆÂ∞è</strong>Ôºö„Å†„Çì„Å†„ÇìÂ∞è„Åï„Åè„Å™„Å£„Å¶Ê∂à„Åà„Çã<br>„Éª<strong>„Å™„Åó</strong>Ôºö„ÅÑ„Åç„Å™„ÇäÊ∂à„Åà„Çã</span>
                </div>
            </div>
            
            <div class="control-group">
                <label>„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈÄüÂ∫¶: <span class="range-value" id="animation-speed-value">ÊôÆÈÄö</span></label>
                <div class="tooltip">
                    <input type="range" id="animation-speed" min="1" max="100" value="50" onchange="updatePreview()">
                    <span class="tooltiptext">‚ö° <strong>„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆÈÄü„Åï</strong><br><br>„Éª<strong>ÈÅÖ„ÅÑ</strong>Ôºö„ÇÜ„Å£„Åè„Çä„Åó„ÅüÂãï„Åç<br>„Éª<strong>ÊôÆÈÄö</strong>Ôºö„Å°„Çá„ÅÜ„Å©„ÅÑ„ÅÑÈÄü„Åï<br>„Éª<strong>ÈÄü„ÅÑ</strong>Ôºö„Ç≠„Éì„Ç≠„Éì„Åó„ÅüÂãï„Åç<br><br>ÊôÆÈÄö„Åå„Åä„Åô„Åô„ÇÅ„Å†„ÇàÔºÅ</span>
                </div>
            </div>
        </div>
        
        <!-- Ê≠åË©û„Çø„Éñ -->
        <div class="tab-content" id="lyrics-tab">
            <h2>üìù Ê≠åË©û„Å®„Çø„Ç§„Éü„É≥„Ç∞</h2>
            
            <div class="control-group">
                <label>Ê≠åË©û„ÉÜ„Ç≠„Çπ„ÉàÔºà1Ë°å„Åö„Å§Ôºâ</label>
                <textarea id="lyrics-input" placeholder="„Åì„Åì„Å´Ê≠åË©û„ÇíÂÖ•ÂäõÔºà1Ë°å„Åö„Å§Ôºâ">ÊÄùËÄÉ„ÅÆ„Çπ„Éî„Éº„Éâ„Å´ ËøΩ„ÅÑ„Å§„Åë„Å™„Åè„Å¶
ÂÆà„Çä„Åü„ÅÑ„ÇÇ„ÅÆ„Åå Â¢ó„Åà„Å¶„ÅÑ„Åè„ÅÆ„Å´
ÈÄÜÂÜçÁîü„Åß„Åç„Å™„ÅÑÊôÇÈñì„Å´„ÄÅ„Åó„Å≥„Çå„Å¶„Çã</textarea>
            </div>
            
            <div class="control-group file-upload tooltip" id="audio-upload">
                <input type="file" id="audio-file" accept=".mp3" style="display: none;">
                <p>üéµ MP3„Éï„Ç°„Ç§„É´„Çí„Éâ„É≠„ÉÉ„Éó„Åæ„Åü„ÅØ„ÇØ„É™„ÉÉ„ÇØ</p>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Èü≥Ê•Ω„ÅÆÈï∑„Åï„Åã„ÇâËá™Âãï„Åß„Çø„Ç§„Éü„É≥„Ç∞„ÇíË®àÁÆó„Åó„Åæ„Åô</p>
                <span class="tooltiptext">üéµ <strong>Èü≥Ê•Ω„Éï„Ç°„Ç§„É´„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ</strong><br><br>„ÉªÈü≥Ê•Ω„Éï„Ç°„Ç§„É´ÔºàMP3Ôºâ„Çí„Åì„Åì„Å´„Éâ„É≠„ÉÉ„Éó<br>„Éª„Åæ„Åü„ÅØ„ÄÅ„Åì„Åì„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éï„Ç°„Ç§„É´„ÇíÈÅ∏„Å∂<br><br>Èü≥Ê•Ω„ÅÆÈï∑„Åï„ÇíËá™Âãï„ÅßÊ∏¨„Å£„Å¶„ÄÅÊ≠åË©û„Åå„ÅÑ„ÅÑ„Çø„Ç§„Éü„É≥„Ç∞„ÅßË°®Á§∫„Åï„Çå„Çã„Çà„ÅÜ„Å´Ë®àÁÆó„Åó„Å¶„Åè„Çå„Çã„ÇàÔºÅ</span>
            </div>
            
            <div class="control-group">
                <label class="tooltip">Ë°®Á§∫ÁßíÊï∞Ôºà1Ë°å„ÅÇ„Åü„ÇäÔºâ
                    <span class="tooltiptext">‚è±Ô∏è <strong>1Ë°å„ÅåË°®Á§∫„Åï„Çå„ÇãÊôÇÈñì</strong><br><br>„Éª1„Å§„ÅÆÊ≠åË©û„ÅåÁîªÈù¢„Å´Âá∫„Å¶„ÅÑ„ÇãÁßíÊï∞<br>„Éª4Áßí = „ÇÜ„Å£„Åè„ÇäË™≠„ÇÅ„Çã<br>„Éª2Áßí = Êó©„ÇÅ„ÅÆ„ÉÜ„É≥„Éù<br>„ÉªÈü≥Ê•Ω„ÅÆ„É™„Ç∫„É†„Å´Âêà„Çè„Åõ„Å¶Ë™øÊï¥„Åó„Çà„ÅÜ</span>
                </label>
                <input type="number" id="duration-per-line" value="4" min="1" max="10" step="0.5">
            </div>
        </div>
        
        <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
        <h2>üé¨ ÂãïÁîªÁîüÊàê</h2>
        
        <div class="button-group" style="flex-direction: column; gap: 15px;">
            <!-- ÂàùÂøÉËÄÖ„É¢„Éº„Éâ -->
            <div class="tooltip">
                <button onclick="generateVideoQuick()" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); font-size: 18px; padding: 15px;">
                    üöÄ Á∞°ÂçòÂãïÁîªÁîüÊàêÔºàÊé®Â•®Ôºâ
                </button>
                <span class="tooltiptext">üöÄ <strong>‰∏ÄÁï™Á∞°Âçò„Å™ÂãïÁîª‰ΩúÊàêÊñπÊ≥ïÔºÅ</strong><br><br>„Éª„Éú„Çø„É≥„Çí1ÂõûÊäº„Åô„Å†„Åë„ÅßÂãïÁîª„Åå„Åß„Åç„Çã<br>„ÉªË®≠ÂÆö„ÅØËá™Âãï„Åß„ÅÑ„ÅÑÊÑü„Åò„Å´„Åó„Å¶„Åè„Çå„Çã<br>„Éª3„Äú5ÂàÜ„Åè„Çâ„ÅÑ„ÅßÂÆåÊàê„Åô„Çã<br><br><strong>Âàù„ÇÅ„Å¶„ÅÆ‰∫∫„ÅØ„Åì„Çå„Åå„Åä„Åô„Åô„ÇÅÔºÅ</strong></span>
            </div>
            
            <!-- ‰∏äÁ¥öËÄÖ„É¢„Éº„Éâ -->
            <div style="display: flex; gap: 10px;">
                <div class="tooltip" style="flex: 1;">
                    <button onclick="generateJSON()">
                        üíæ JSON‰øùÂ≠ò
                    </button>
                    <span class="tooltiptext">üíæ <strong>Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åô„Çã</strong><br><br>üìù <strong>JSON„Éï„Ç°„Ç§„É´</strong>Ôºö„Ç≥„É≥„Éî„É•„Éº„Çø„ÉºÁî®„ÅÆË®≠ÂÆö„Éï„Ç°„Ç§„É´<br>„Éª‰ªäÈÅ∏„Çì„Å†„Éï„Ç©„É≥„Éà„ÇÑ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆË®≠ÂÆö„ÅåË®òÈå≤„Åï„Çå„Çã<br>„ÉªÊ¨°ÂõûÂêå„ÅòË®≠ÂÆö„Çí‰Ωø„ÅÑ„Åü„ÅÑÊôÇ„Å´‰æøÂà©<br>„Éª‰∏äÁ¥öËÄÖÂêë„Åë„ÅÆÊ©üËÉΩ</span>
                </div>
                <div class="tooltip" style="flex: 1;">
                    <button onclick="openRemotionStudio()" class="secondary-button">
                        üé® Ë©≥Á¥∞Á∑®ÈõÜ
                    </button>
                    <span class="tooltiptext">üé® <strong>„ÇÇ„Å£„Å®Ë©≥„Åó„ÅèÁ∑®ÈõÜ„Åó„Åü„ÅÑ‰∫∫Âêë„Åë</strong><br><br>„Éª4KÁîªË≥™„ÅÆÂãïÁîª„Åå‰Ωú„Çå„Çã<br>„ÉªÁ¥∞„Åã„ÅÑË®≠ÂÆö„Çí„ÅÑ„Åò„Çå„Çã<br>„Éª„Éó„É≠‰ªïÊßò„ÅÆ„ÉÑ„Éº„É´„Çí‰Ωø„ÅÜ<br><br><strong>ÊÖ£„Çå„Å¶„Åç„Åü‰∫∫„Å´„Åä„Åô„Åô„ÇÅÔºÅ</strong></span>
                </div>
            </div>
            
            <!-- „Åù„ÅÆ‰ªñ„ÅÆ„ÉÑ„Éº„É´ -->
            <div class="tooltip">
                <button onclick="exportStyles()" class="secondary-button" style="font-size: 14px;">
                    üìã CSS„Ç≥„Éî„Éº
                </button>
                <span class="tooltiptext">üìã <strong>„Çπ„Çø„Ç§„É´Ë®≠ÂÆö„Çí„Ç≥„Éî„Éº</strong><br><br>üíª <strong>CSS</strong>Ôºö„Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆË¶ã„ÅüÁõÆ„Çí‰Ωú„Çã„Ç≥„Éº„Éâ<br>„Éª‰ªä„ÅÆÊñáÂ≠ó„ÅÆËâ≤„ÇÑ„Çµ„Ç§„Ç∫„ÅÆË®≠ÂÆö„Çí„Ç≥„Éî„Éº<br>„Éª‰ªñ„ÅÆ„Éó„É≠„Ç∞„É©„É†„Åß‰Ωø„Åà„Çã<br>„Éª„Éó„É≠„Ç∞„É©„Éû„ÉºÂêë„Åë„ÅÆÊ©üËÉΩ</span>
            </div>
        </div>
        
        <!-- ÈÄ≤ÊçóË°®Á§∫„Ç®„É™„Ç¢ -->
        <div id="progress-area" style="display: none; margin-top: 20px; padding: 15px; background: rgba(0,123,255,0.1); border-radius: 8px; border: 1px solid #007bff;">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <div id="progress-spinner" style="width: 20px; height: 20px; border: 2px solid #007bff; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                <span id="progress-text">ÂãïÁîªÁîüÊàêÊ∫ñÂÇô‰∏≠...</span>
            </div>
            <div style="background: #e9ecef; border-radius: 10px; overflow: hidden;">
                <div id="progress-bar" style="background: #007bff; height: 8px; width: 0%; transition: width 0.3s;"></div>
            </div>
        </div>
    </div>
    
    <!-- „Éó„É¨„Éì„É•„Éº„Ç®„É™„Ç¢ -->
    <div class="preview-container">
        <div class="preview-controls">
            <div class="tooltip">
                <button onclick="playPreview()">‚ñ∂Ô∏è ÂÜçÁîü</button>
                <span class="tooltiptext">‚ñ∂Ô∏è <strong>„Éó„É¨„Éì„É•„Éº„ÇíË¶ã„Çã</strong><br><br>„ÉªÊ≠åË©û„Åå„Å©„Çì„Å™È¢®„Å´Ë°®Á§∫„Åï„Çå„Çã„Åã„ÉÜ„Çπ„Éà<br>„ÉªËá™Âãï„ÅßÊ≠åË©û„ÅåÊ¨°„ÄÖ„Å®Ë°®Á§∫„Åï„Çå„Çã<br>„ÉªÈü≥Ê•Ω„ÅØÊµÅ„Çå„Å™„ÅÑ„ÇàÔºàË¶ã„ÅüÁõÆ„Å†„ÅëÔºâ</span>
            </div>
            <div class="tooltip">
                <button onclick="pausePreview()">‚è∏ ‰∏ÄÊôÇÂÅúÊ≠¢</button>
                <span class="tooltiptext">‚è∏ <strong>„Éó„É¨„Éì„É•„Éº„ÇíÊ≠¢„ÇÅ„Çã</strong><br><br>„ÉªÂÜçÁîü‰∏≠„ÅÆ„Éó„É¨„Éì„É•„Éº„Çí‰∏ÄÊôÇÂÅúÊ≠¢<br>„Éª‰ªäË°®Á§∫„Åï„Çå„Å¶„ÅÑ„ÇãÊ≠åË©û„ÅßÊ≠¢„Åæ„Çã</span>
            </div>
            <div class="tooltip">
                <button onclick="resetPreview()">‚èÆ „É™„Çª„ÉÉ„Éà</button>
                <span class="tooltiptext">‚èÆ <strong>ÊúÄÂàù„Å´Êàª„Çã</strong><br><br>„Éª„Éó„É¨„Éì„É•„Éº„ÇíÊ≠¢„ÇÅ„Çã<br>„Éª1Ë°åÁõÆ„ÅÆÊ≠åË©û„Å´Êàª„Çã<br>„ÉªÊúÄÂàù„Åã„Çâ„ÇÑ„ÇäÁõ¥„Åó„Åü„ÅÑÊôÇ„Å´</span>
            </div>
            <span style="flex: 1; text-align: center;" id="current-lyric-info">„Éó„É¨„Éì„É•„Éº: 1Ë°åÁõÆ</span>
        </div>
        
        <div class="preview-area" id="preview-area">
            <div class="preview-lyrics" id="preview-lyrics">
                <div class="preview-lyrics-background" id="preview-background">
                    <h1 class="preview-lyrics-text" id="preview-text">
                        ÊÄùËÄÉ„ÅÆ„Çπ„Éî„Éº„Éâ„Å´ ËøΩ„ÅÑ„Å§„Åë„Å™„Åè„Å¶
                    </h1>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentLyricIndex = 0;
        let playInterval = null;
        let audioDuration = 0;
        
        // „Çø„ÉñÂàá„ÇäÊõø„Åà
        function switchTab(tabName) {
            // „Åô„Åπ„Å¶„ÅÆ„Çø„Éñ„Å®„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÈùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ÈÅ∏Êäû„Åï„Çå„Åü„Çø„Éñ„Å®„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´
            event.target.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }
        
        // „Éó„É¨„Éì„É•„ÉºÊõ¥Êñ∞
        function updatePreview() {
            const previewText = document.getElementById('preview-text');
            const previewBackground = document.getElementById('preview-background');
            const previewLyrics = document.getElementById('preview-lyrics');
            
            // „Éï„Ç©„É≥„ÉàË®≠ÂÆö
            const fontFamily = document.getElementById('font-family').value;
            const fontSize = document.getElementById('font-size').value;
            const fontWeight = document.getElementById('font-weight').value;
            const textColor = document.getElementById('text-color').value;
            
            document.getElementById('font-size-value').textContent = `${fontSize}px`;
            
            previewText.style.fontFamily = fontFamily;
            previewText.style.fontSize = `${fontSize}px`;
            previewText.style.fontWeight = fontWeight;
            previewText.style.color = textColor;
            
            // „Ç∞„É≠„ÉºÂäπÊûú
            const glowStrength = document.getElementById('glow-strength').value;
            const glowColor = document.getElementById('glow-color').value;
            
            let glowText = '';
            if (glowStrength > 0) {
                const strength = glowStrength / 100;
                glowText = `0 0 ${20 * strength}px ${glowColor}, 0 0 ${10 * strength}px ${glowColor}, 0 0 ${5 * strength}px ${glowColor}`;
            }
            previewText.style.textShadow = glowText;
            
            document.getElementById('glow-strength-value').textContent = 
                glowStrength == 0 ? '„Å™„Åó' : 
                glowStrength < 33 ? 'Âº±' :
                glowStrength < 66 ? '‰∏≠' : 'Âº∑';
            
            // ËÉåÊôØË®≠ÂÆö
            const useBackground = document.getElementById('use-background').checked;
            const bgOpacity = document.getElementById('bg-opacity').value / 100;
            
            document.getElementById('background-opacity-group').style.display = useBackground ? 'block' : 'none';
            document.getElementById('bg-opacity-value').textContent = `${bgOpacity * 100}%`;
            
            if (useBackground) {
                previewBackground.style.display = 'inline-block';
                previewBackground.style.backgroundColor = `rgba(0, 0, 0, ${bgOpacity})`;
            } else {
                previewBackground.style.display = 'contents';
                previewBackground.style.backgroundColor = 'transparent';
            }
            
            // ‰ΩçÁΩÆË®≠ÂÆö
            const positionBottom = document.getElementById('position-bottom').value;
            previewLyrics.style.bottom = `${positionBottom}px`;
            document.getElementById('position-value').textContent = `${positionBottom}px`;
            
            // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈÄüÂ∫¶
            const animSpeed = document.getElementById('animation-speed').value;
            document.getElementById('animation-speed-value').textContent = 
                animSpeed < 33 ? 'ÈÅÖ„ÅÑ' :
                animSpeed < 66 ? 'ÊôÆÈÄö' : 'ÈÄü„ÅÑ';
        }
        
        // „Ç´„É©„ÉºÂÖ•Âäõ„ÅÆÂêåÊúü
        function updateColorFromHex(type) {
            const hexInput = document.getElementById(`${type}-color-hex`);
            const colorInput = document.getElementById(`${type}-color`);
            colorInput.value = hexInput.value;
            updatePreview();
        }
        
        // „Éó„É™„Çª„ÉÉ„ÉàÈÅ©Áî®
        function applyPreset(presetName) {
            const presets = {
                elegant: {
                    fontFamily: '"Hiragino Mincho ProN", "Yu Mincho", serif',
                    fontSize: 52,
                    fontWeight: 'bold',
                    textColor: '#000000',
                    glowStrength: 50,
                    glowColor: '#FFFFFF',
                    useBackground: true,
                    bgOpacity: 70,
                    positionBottom: 26
                },
                pop: {
                    fontFamily: '"M PLUS Rounded 1c", sans-serif',
                    fontSize: 60,
                    fontWeight: 'bold',
                    textColor: '#FF69B4',
                    glowStrength: 80,
                    glowColor: '#FFFF00',
                    useBackground: true,
                    bgOpacity: 80,
                    positionBottom: 50
                },
                minimal: {
                    fontFamily: '"Helvetica Neue", Arial, sans-serif',
                    fontSize: 40,
                    fontWeight: 'normal',
                    textColor: '#FFFFFF',
                    glowStrength: 20,
                    glowColor: '#FFFFFF',
                    useBackground: false,
                    bgOpacity: 0,
                    positionBottom: 30
                },
                karaoke: {
                    fontFamily: '"M PLUS Rounded 1c", sans-serif',
                    fontSize: 72,
                    fontWeight: 'bold',
                    textColor: '#FFFF00',
                    glowStrength: 60,
                    glowColor: '#000000',
                    useBackground: true,
                    bgOpacity: 90,
                    positionBottom: 100
                },
                youtube: {
                    fontFamily: 'Arial, sans-serif',
                    fontSize: 48,
                    fontWeight: 'normal',
                    textColor: '#FFFFFF',
                    glowStrength: 40,
                    glowColor: '#000000',
                    useBackground: true,
                    bgOpacity: 80,
                    positionBottom: 50
                },
                movie: {
                    fontFamily: '"Helvetica Neue", Arial, sans-serif',
                    fontSize: 36,
                    fontWeight: 'normal',
                    textColor: '#FFFFFF',
                    glowStrength: 30,
                    glowColor: '#000000',
                    useBackground: false,
                    bgOpacity: 0,
                    positionBottom: 40
                }
            };
            
            const preset = presets[presetName];
            if (preset) {
                document.getElementById('font-family').value = preset.fontFamily;
                document.getElementById('font-size').value = preset.fontSize;
                document.getElementById('font-weight').value = preset.fontWeight;
                document.getElementById('text-color').value = preset.textColor;
                document.getElementById('text-color-hex').value = preset.textColor;
                document.getElementById('glow-strength').value = preset.glowStrength;
                document.getElementById('glow-color').value = preset.glowColor;
                document.getElementById('glow-color-hex').value = preset.glowColor;
                document.getElementById('use-background').checked = preset.useBackground;
                document.getElementById('bg-opacity').value = preset.bgOpacity;
                document.getElementById('position-bottom').value = preset.positionBottom;
                
                updatePreview();
            }
        }
        
        // „Éó„É¨„Éì„É•„ÉºÂÜçÁîüÊ©üËÉΩ
        function playPreview() {
            if (playInterval) return;
            
            const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
            const duration = parseFloat(document.getElementById('duration-per-line').value) * 1000;
            
            playInterval = setInterval(() => {
                if (currentLyricIndex >= lyrics.length) {
                    currentLyricIndex = 0;
                }
                
                document.getElementById('preview-text').textContent = lyrics[currentLyricIndex];
                document.getElementById('current-lyric-info').textContent = `„Éó„É¨„Éì„É•„Éº: ${currentLyricIndex + 1}/${lyrics.length}Ë°åÁõÆ`;
                
                // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈÅ©Áî®
                applyAnimation();
                
                currentLyricIndex++;
            }, duration);
        }
        
        function pausePreview() {
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
            }
        }
        
        function resetPreview() {
            pausePreview();
            currentLyricIndex = 0;
            const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
            if (lyrics.length > 0) {
                document.getElementById('preview-text').textContent = lyrics[0];
                document.getElementById('current-lyric-info').textContent = `„Éó„É¨„Éì„É•„Éº: 1Ë°åÁõÆ`;
            }
        }
        
        // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈÅ©Áî®
        function applyAnimation() {
            const animIn = document.getElementById('animation-in').value;
            const previewLyrics = document.getElementById('preview-lyrics');
            
            // ‰∏ÄÊó¶„É™„Çª„ÉÉ„Éà
            previewLyrics.style.animation = 'none';
            
            // Â∞ë„ÅóÈÅÖÂª∂„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈñãÂßã
            setTimeout(() => {
                if (animIn === 'fade') {
                    previewLyrics.style.animation = 'fadeIn 0.5s ease';
                } else if (animIn === 'slide-up') {
                    previewLyrics.style.animation = 'slideUp 0.5s ease';
                } else if (animIn === 'scale') {
                    previewLyrics.style.animation = 'scaleIn 0.5s ease';
                } else if (animIn === 'bounce') {
                    previewLyrics.style.animation = 'bounceIn 0.5s ease';
                }
            }, 10);
        }
        
        // JSONÁîüÊàê
        function generateJSON() {
            const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
            const durationPerLine = parseFloat(document.getElementById('duration-per-line').value);
            
            const lyricsData = lyrics.map((text, index) => ({
                startTime: index * durationPerLine,
                endTime: (index + 1) * durationPerLine,
                text: text.trim()
            }));
            
            const styleSettings = {
                fontFamily: document.getElementById('font-family').value,
                fontSize: `${document.getElementById('font-size').value}px`,
                fontWeight: document.getElementById('font-weight').value,
                color: document.getElementById('text-color').value,
                glowStrength: document.getElementById('glow-strength').value,
                glowColor: document.getElementById('glow-color').value,
                useBackground: document.getElementById('use-background').checked,
                backgroundOpacity: document.getElementById('bg-opacity').value / 100,
                positionBottom: `${document.getElementById('position-bottom').value}px`,
                animationIn: document.getElementById('animation-in').value,
                animationOut: document.getElementById('animation-out').value,
                animationSpeed: document.getElementById('animation-speed').value
            };
            
            const output = {
                lyrics: lyricsData,
                style: styleSettings
            };
            
            // „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
            const blob = new Blob([JSON.stringify(output, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'lyrics-config.json';
            a.click();
            URL.revokeObjectURL(url);
            
            alert('Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ\n„Åì„ÅÆJSON„Éï„Ç°„Ç§„É´„ÇíReact Remotion„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åß‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
        }
        
        // „Çπ„Çø„Ç§„É´„Çí„Ç≥„Éî„Éº
        function exportStyles() {
            const styleCode = `
// ÁîüÊàê„Åï„Çå„Åü„Çπ„Çø„Ç§„É´Ë®≠ÂÆö
const lyricsStyle = {
    fontFamily: '${document.getElementById('font-family').value}',
    fontSize: '${document.getElementById('font-size').value}px',
    fontWeight: '${document.getElementById('font-weight').value}',
    color: '${document.getElementById('text-color').value}',
    textShadow: '${document.getElementById('preview-text').style.textShadow}',
    textAlign: 'center',
    margin: 0
};

const backgroundStyle = {
    display: ${document.getElementById('use-background').checked ? "'inline-block'" : "'contents'"},
    backgroundColor: 'rgba(0, 0, 0, ${document.getElementById('bg-opacity').value / 100})',
    padding: '20px 40px',
    borderRadius: '15px',
    backdropFilter: 'blur(10px)'
};

const containerStyle = {
    position: 'absolute',
    bottom: '${document.getElementById('position-bottom').value}px',
    left: '50%',
    transform: 'translateX(-50%)',
    width: '100%',
    textAlign: 'center'
};`;
            
            navigator.clipboard.writeText(styleCode);
            alert('„Çπ„Çø„Ç§„É´„Ç≥„Éº„Éâ„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ');
        }
        
        // „Éï„Ç°„Ç§„É´„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÂá¶ÁêÜ
        const audioUpload = document.getElementById('audio-upload');
        const audioFile = document.getElementById('audio-file');
        
        audioUpload.addEventListener('click', () => audioFile.click());
        
        audioUpload.addEventListener('dragover', (e) => {
            e.preventDefault();
            audioUpload.classList.add('dragover');
        });
        
        audioUpload.addEventListener('dragleave', () => {
            audioUpload.classList.remove('dragover');
        });
        
        audioUpload.addEventListener('drop', (e) => {
            e.preventDefault();
            audioUpload.classList.remove('dragover');
            
            const file = e.dataTransfer.files[0];
            if (file && file.type === 'audio/mpeg') {
                processAudioFile(file);
            }
        });
        
        audioFile.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                processAudioFile(file);
            }
        });
        
        function processAudioFile(file) {
            const audio = new Audio();
            audio.src = URL.createObjectURL(file);
            
            audio.addEventListener('loadedmetadata', () => {
                audioDuration = audio.duration;
                
                const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
                const durationPerLine = audioDuration / lyrics.length;
                
                document.getElementById('duration-per-line').value = durationPerLine.toFixed(1);
                
                alert(`Èü≥Ê•Ω„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÔºÅ\nÈï∑„Åï: ${audioDuration.toFixed(1)}Áßí\n1Ë°å„ÅÇ„Åü„Çä: ${durationPerLine.toFixed(1)}Áßí`);
            });
        }
        
        // CSS „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÆöÁæ©
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            
            @keyframes slideUp {
                from { 
                    opacity: 0;
                    transform: translateX(-50%) translateY(50px);
                }
                to { 
                    opacity: 1;
                    transform: translateX(-50%) translateY(0);
                }
            }
            
            @keyframes scaleIn {
                from { 
                    opacity: 0;
                    transform: translateX(-50%) scale(0.8);
                }
                to { 
                    opacity: 1;
                    transform: translateX(-50%) scale(1);
                }
            }
            
            @keyframes bounceIn {
                0% { 
                    opacity: 0;
                    transform: translateX(-50%) translateY(30px);
                }
                60% { 
                    opacity: 1;
                    transform: translateX(-50%) translateY(-10px);
                }
                100% { 
                    transform: translateX(-50%) translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
        
        // Á∞°ÂçòÂãïÁîªÁîüÊàêÔºàÊñ∞Ê©üËÉΩÔºâ
        async function generateVideoQuick() {
            // „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
            const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
            if (lyrics.length === 0) {
                alert('‚ùå Ê≠åË©û„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                return;
            }
            
            // ÈÄ≤ÊçóË°®Á§∫ÈñãÂßã
            showProgress('üé¨ ÂãïÁîªÁîüÊàê„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô...', 0);
            
            try {
                // 1. JSONË®≠ÂÆö„ÇíÊ∫ñÂÇô
                updateProgress('üìù Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇíÊ∫ñÂÇô‰∏≠...', 20);
                const config = await prepareVideoConfig();
                
                // 2. Remotion „Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å
                updateProgress('üé• ÂãïÁîª„ÇíÁîüÊàê‰∏≠... („Åì„Çå„Å´„ÅØÊï∞ÂàÜ„Åã„Åã„Çä„Åæ„Åô)', 40);
                await generateVideoWithRemotion(config);
                
                // 3. ÂÆå‰∫Ü
                updateProgress('‚úÖ ÂãïÁîªÁîüÊàêÂÆå‰∫ÜÔºÅ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÇíÈñãÂßã„Åó„Åæ„Åô', 100);
                
                setTimeout(() => {
                    hideProgress();
                    alert('üéâ ÂãïÁîªÁîüÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\n‰øùÂ≠òÂÖà: out/lyrics-with-audio.mov');
                }, 1500);
                
            } catch (error) {
                hideProgress();
                alert('‚ùå ÂãïÁîªÁîüÊàê„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü:\n' + error.message);
                console.error(error);
            }
        }
        
        // Remotion Studio „ÇíÈñã„Åè
        function openRemotionStudio() {
            // „Åæ„ÅöJSON„ÇíÁîüÊàê
            generateJSON();
            
            // Remotion Studio„ÇíÈñã„ÅèË™¨Êòé
            alert('üìñ Ê¨°„ÅÆÊâãÈ†Ü„ÅßË©≥Á¥∞Á∑®ÈõÜ„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ:\n\n1. ÁîüÊàê„Åï„Çå„ÅüJSON„Éï„Ç°„Ç§„É´„Çí„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÈÖçÁΩÆ\n2. „Çø„Éº„Éü„Éä„É´„Åß "npm start" „ÇíÂÆüË°å\n3. „Éñ„É©„Ç¶„Ç∂„ÅßRemotionStudio„ÅåÈñã„Åç„Åæ„Åô\n4. "LyricsWithAudio"„ÇíÈÅ∏Êäû„Åó„Å¶Á∑®ÈõÜ');
            
            // Êñ∞„Åó„ÅÑ„Çø„Éñ„Åßlocalhost:3000„ÇíÈñã„Åè
            window.open('http://localhost:3000', '_blank');
        }
        
        // ÂãïÁîªË®≠ÂÆö„ÇíÊ∫ñÂÇô
        async function prepareVideoConfig() {
            const lyrics = document.getElementById('lyrics-input').value.split('\n').filter(l => l.trim());
            const durationPerLine = parseFloat(document.getElementById('duration-per-line').value);
            
            const lyricsData = lyrics.map((text, index) => ({
                startTime: index * durationPerLine,
                endTime: (index + 1) * durationPerLine,
                text: text.trim()
            }));
            
            const styleSettings = {
                fontFamily: document.getElementById('font-family').value,
                fontSize: `${document.getElementById('font-size').value}px`,
                fontWeight: document.getElementById('font-weight').value,
                color: document.getElementById('text-color').value,
                glowStrength: document.getElementById('glow-strength').value,
                glowColor: document.getElementById('glow-color').value,
                useBackground: document.getElementById('use-background').checked,
                backgroundOpacity: document.getElementById('bg-opacity').value / 100,
                positionBottom: `${document.getElementById('position-bottom').value}px`,
                animationIn: document.getElementById('animation-in').value,
                animationOut: document.getElementById('animation-out').value,
                animationSpeed: document.getElementById('animation-speed').value
            };
            
            return {
                lyrics: lyricsData,
                style: styleSettings
            };
        }
        
        // ÂÆüÈöõ„ÅÆÂãïÁîªÁîüÊàêÔºà„Éá„É¢Áâà - ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ backend API „ÇíÂëº„Å∂Ôºâ
        async function generateVideoWithRemotion(config) {
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅ„Åì„Åì„Åß„Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI„ÇíÂëº„Å≥Âá∫„Åó„Å¶
            // Remotion „ÅÆ npm run build:with-audio „ÇíÂÆüË°å„Åó„Åæ„Åô
            
            // ÁèæÂú®„ÅØ„Éá„É¢„Å®„Åó„Å¶5ÁßíÂæÖÊ©ü
            for (let i = 40; i <= 90; i += 10) {
                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(`üé• ÂãïÁîª„ÇíÁîüÊàê‰∏≠... ${i}%`, i);
            }
            
            // TODO: ÂÆüÈöõ„ÅÆRemotionÂÆüË°å
            // const response = await fetch('/api/generate-video', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(config)
            // });
        }
        
        // ÈÄ≤ÊçóË°®Á§∫
        function showProgress(message, percent) {
            document.getElementById('progress-area').style.display = 'block';
            document.getElementById('progress-text').textContent = message;
            document.getElementById('progress-bar').style.width = `${percent}%`;
        }
        
        function updateProgress(message, percent) {
            document.getElementById('progress-text').textContent = message;
            document.getElementById('progress-bar').style.width = `${percent}%`;
        }
        
        function hideProgress() {
            document.getElementById('progress-area').style.display = 'none';
        }
        
        // „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó„ÅÆ‰ΩçÁΩÆË™øÊï¥
        document.addEventListener('mouseover', function(e) {
            if (e.target.closest('.tooltip')) {
                const tooltip = e.target.closest('.tooltip');
                const tooltipText = tooltip.querySelector('.tooltiptext');
                if (tooltipText) {
                    // „Éû„Ç¶„Çπ„ÅÆ‰ΩçÁΩÆ„ÇíÂèñÂæó
                    const rect = e.target.getBoundingClientRect();
                    const viewportWidth = window.innerWidth;
                    const viewportHeight = window.innerHeight;
                    
                    // „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó„ÅÆÈ´ò„Åï„ÇíËÄÉÊÖÆ
                    const tooltipHeight = 120; // Êé®ÂÆö„ÉÑ„Éº„É´„ÉÅ„ÉÉ„ÉóÈ´ò„Åï
                    
                    // „Éá„Éï„Ç©„É´„Éà„ÅØË¶ÅÁ¥†„ÅÆ‰∏ä„Å´Ë°®Á§∫
                    let left = rect.left + (rect.width / 2) - 140; // 280pxÂπÖ„ÅÆÂçäÂàÜ
                    let top = rect.top - tooltipHeight - 10; // Ë¶ÅÁ¥†„ÅÆ‰∏ä
                    
                    // Â∑¶Á´Ø„Åã„Çâ„ÅØ„ÅøÂá∫„ÇãÂ†¥Âêà
                    if (left < 10) {
                        left = 10;
                    }
                    // Âè≥Á´Ø„Åã„Çâ„ÅØ„ÅøÂá∫„ÇãÂ†¥Âêà
                    if (left + 280 > viewportWidth - 10) {
                        left = viewportWidth - 290;
                    }
                    
                    // ‰∏äÁ´Ø„Åã„Çâ„ÅØ„ÅøÂá∫„ÇãÂ†¥Âêà„ÅØË¶ÅÁ¥†„ÅÆ‰∏ã„Å´Ë°®Á§∫
                    if (top < 10) {
                        top = rect.bottom + 10;
                    }
                    
                    // „Éú„Çø„É≥„Ç®„É™„Ç¢„Å®ÈáçË§á„Åó„Å™„ÅÑ„Çà„ÅÜ„ÄÅ„Åï„Çâ„Å´‰∏ä„Å´ÈÖçÁΩÆ
                    if (top + tooltipHeight > rect.top && top < rect.bottom) {
                        // Ë¶ÅÁ¥†„Å®ÈáçË§á„Åô„ÇãÂ†¥Âêà„ÅØ„ÄÅÂøÖ„ÅöË¶ÅÁ¥†„ÅÆ‰∏ä„Å´ÈÖçÁΩÆ
                        top = rect.top - tooltipHeight - 15;
                        // „Åù„Çå„Åß„ÇÇÁîªÈù¢‰∏äÁ´Ø„ÇíË∂Ö„Åà„ÇãÂ†¥Âêà„ÅØÂè≥ÂÅ¥„Å´ÈÖçÁΩÆ
                        if (top < 10) {
                            top = rect.top;
                            left = rect.right + 15;
                            // Âè≥Á´Ø„Åã„Çâ„ÅØ„ÅøÂá∫„ÇãÂ†¥Âêà„ÅØÂ∑¶ÂÅ¥„Å´
                            if (left + 280 > viewportWidth - 10) {
                                left = rect.left - 280 - 15;
                            }
                        }
                    }
                    
                    tooltipText.style.left = left + 'px';
                    tooltipText.style.top = top + 'px';
                    tooltipText.style.pointerEvents = 'none'; // „Éû„Ç¶„Çπ„Ç§„Éô„É≥„Éà„ÇíÈÄö„Åô
                }
            }
        });
        
        // ÂàùÊúüÂåñ
        updatePreview();
    </script>
</body>
</html>